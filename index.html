<head>
<script src="https://code.jquery.com/jquery-2.1.3.min.js">
</script>
</head>

<body style="">

<script src="bufferloader.js"></script>
<script src="disco.js?v=4"></script>

<pre style="font-size:20px">
    var startTime = context.currentTime + 0.100;
    var tempo = 160; // BPM (beats per minute)
    var bps = 60 / tempo;
    var eighthNoteTime = (60 / tempo) / 2;

    for (var h = 0; h < 2; h++) {
	for (var j = 0; j < 8; ++j) {
	    for (var i = 0; i < 16; ++i) {
		var f;
		f = 150 + i * 50;

		var time = startTime + (h * 8 * 16 + j * 16 + i) * bps * 0.25;
		var v = new Voice(f);
		h > 0 && v.startx(time,  0.05);
		if (i === 0 || i === 2 || i === 10) {
		    makesound(bufferList[1]).start(time);
		}

		if (i === 4 || i === 12 || i === 7 || i === 9) {
		    makesound(bufferList[0]).start(time);
		}

		if ([0,2,4,6,7,8,9,10,12,14].indexOf(i) !== -1) {
		    var hh = makesound(bufferList[2]);
		    hh.start(time);
		}

	    }
	}  
    }
</pre>
 
</body>
